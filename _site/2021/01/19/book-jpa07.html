<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>자바 ORM표준 JPA 프로그래밍 - 고급 매핑 | Steady / Focus / Life</title>
<meta name="generator" content="Jekyll v3.8.7" />
<meta property="og:title" content="자바 ORM표준 JPA 프로그래밍 - 고급 매핑" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="상속 관계 매핑" />
<meta property="og:description" content="상속 관계 매핑" />
<link rel="canonical" href="http://localhost:4000/2021/01/19/book-jpa07" />
<meta property="og:url" content="http://localhost:4000/2021/01/19/book-jpa07" />
<meta property="og:site_name" content="Steady / Focus / Life" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-01-19T00:00:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="자바 ORM표준 JPA 프로그래밍 - 고급 매핑" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"자바 ORM표준 JPA 프로그래밍 - 고급 매핑","dateModified":"2021-01-19T00:00:00+09:00","datePublished":"2021-01-19T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2021/01/19/book-jpa07"},"url":"http://localhost:4000/2021/01/19/book-jpa07","description":"상속 관계 매핑","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


<meta name="keywords" content="book,JPA" />

<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" href="/favicon.ico"/>
<link rel="alternate" type="application/rss+xml" title="Steady / Focus / Life - Write an awesome description for your new site here." href="/feed.xml" />
<link rel="stylesheet" type="text/css" href="/assets/css/base.css" />
<link rel="stylesheet" type="text/css" href="/assets/css/highlight.css" />

<!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->


<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async ></script>


<script src="/assets/script/jekyllpaper.js" async ></script>
<script src="https://unpkg.com/mermaid@8.5.1/dist/mermaid.min.js" onload="javascript:loadMermaid();" async></script>


</head>
<body>
  <div class="container-wrapper">
    <header class="container-header">
      <div class="header-info">
  <span class="header-info-name">Steady / Focus / Life</span>
  <span class="header-info-desc">Write an awesome description for your new site here.</span>
</div>
<nav class="header-nav">
  <ul class="header-main-nav">
  
    <li class="header-main-nav-item"><a href="/">Index</a></li>
  
    <li class="header-main-nav-item"><a href="/category">Categories</a></li>
  
    <li class="header-main-nav-item"><a href="/about">About</a></li>
  
  </ul>
</nav>
    </header>
    <main class="container-main">
      <article class="container-post">
  <div class="post-title">
    <h1>자바 ORM표준 JPA 프로그래밍 - 고급 매핑</h1>
  </div>
  <div class="post-author">
    <span>JinKim</span>
  </div>
  <div class="post-content">
    <p><strong>상속 관계 매핑</strong></p>

<p>1.조인전략 : 엔티티를 모두 테이블로 만들고 자식 테이블이 부모 테이블의 기본키 를 받아서 외래키로 사용하는 전략</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Entity</span>
<span class="nd">@Inheritance</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">IngeritanceType</span><span class="o">.</span><span class="na">JOINED</span><span class="o">)</span> <span class="err">…</span> <span class="n">부모</span> <span class="n">클래스에</span> <span class="n">쓰는</span> <span class="n">매핑</span>
<span class="nd">@DiscriminatorColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">DTYPE</span><span class="err">”</span><span class="o">)</span> <span class="err">…</span> <span class="n">부모</span> <span class="n">클래스에</span> <span class="n">구분</span> <span class="n">컬럼을</span> <span class="n">지정</span>
<span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">Item</span> <span class="o">{</span>
<span class="err">…</span>
<span class="o">}</span>

<span class="nd">@Entity</span>
<span class="nd">@DiscriminatorValue</span><span class="o">(</span><span class="err">“</span><span class="no">A</span><span class="err">”</span><span class="o">)</span> <span class="err">…</span> <span class="n">엔티티를</span> <span class="n">저장할</span> <span class="n">때</span> <span class="n">구분</span> <span class="n">컬럼에</span> <span class="n">입력할</span> <span class="n">값을</span> <span class="n">지정</span>
<span class="nd">@PrimayKeyJoinColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">BOOK_ID</span><span class="err">”</span><span class="o">)</span> <span class="err">…</span> <span class="n">자식</span> <span class="n">테이블의</span> <span class="n">기본</span> <span class="n">키</span> <span class="n">컬럼명을</span> <span class="n">변경하고</span> <span class="n">싶을</span> <span class="n">때</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Album</span> <span class="kd">extends</span> <span class="nc">Item</span> <span class="o">{</span>
<span class="err">…</span>
<span class="o">}</span>

</code></pre></div></div>

<p>2.단일 테이블 전략</p>

<ul>
  <li>테이블 하나만 사용</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Entity</span>
<span class="nd">@Inheritance</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">InheritanceType</span><span class="o">.</span><span class="na">SINGLE_TABLE</span><span class="o">)</span>
<span class="err">…</span>

<span class="nd">@Entity</span>
<span class="nd">@DiscriminatorValue</span><span class="o">(</span><span class="err">“</span><span class="no">A</span><span class="err">”</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Album</span> <span class="kd">extends</span> <span class="nc">Item</span> <span class="o">{</span><span class="err">…</span><span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>구현 클래스마다 테이블 전략</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Entity</span>
<span class="nd">@Inheritance</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">InheritanceType</span><span class="o">.</span><span class="na">TABLE_PER_CLASS</span><span class="o">)</span>
</code></pre></div></div>

<p><br /></p>

<p><strong>@MappedSuperclass</strong></p>

<p>부모 클래스는 테이블과 매핑하지 않고 부모 클래스를 상속 받는 자식 클래스에게 매핑 정보만 제공하고 싶을 때</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@MappedSuperclass</span>
<span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">BaseEntity</span> <span class="o">{</span>
    <span class="nd">@Id</span> <span class="nd">@GeneratedValue</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Member</span> <span class="kd">extends</span> <span class="nc">BaseEntity</span> <span class="o">{</span>
    <span class="c1">//ID 상속</span>
    <span class="c1">//NAME 상속</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">email</span><span class="o">;</span>
    <span class="err">…</span>
<span class="o">}</span>
</code></pre></div></div>

<p><br /></p>

<p>부모로부터 물려받은 매핑 정보를 재정의하려면</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Entity</span>
<span class="nd">@AttributeOverrides</span><span class="o">({</span>
    <span class="nd">@AttributeOverride</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="n">id</span><span class="err">”</span><span class="o">,</span> <span class="n">column</span> <span class="o">=</span> <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">MEMBER_ID</span><span class="err">”</span><span class="o">)),</span>
    <span class="nd">@AttributeOverride</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="n">name</span><span class="err">”</span><span class="o">,</span> <span class="n">column</span> <span class="o">=</span> <span class="nc">Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">MEMBER_NAME</span><span class="err">”</span><span class="o">))</span>
<span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Member</span> <span class="kd">extends</span> <span class="nc">BaseEntity</span><span class="o">{</span><span class="err">…</span><span class="o">}</span>
</code></pre></div></div>

<p><br /></p>

<p><strong>복합 키와 식별 관계 매핑</strong></p>

<ul>
  <li>식별 관계 : 부모 테이블의 기본 키를 내려받아서 자식 테이블의 기본키 + 외래키로 사용하는 관계</li>
  <li>비식별 관계 : 부모 테이블의 기본 키를 받아서 자식 테이블의 외래 키로만 사용</li>
</ul>

<p><br /></p>

<p>1.복합키:비식별 관계 매핑</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Entity</span>
<span class="nd">@IdClass</span><span class="o">(</span><span class="nc">ParentId</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Parent</span> <span class="o">{</span>

	<span class="nd">@Id</span>
	<span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">PARENT_ID1</span><span class="err">”</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">id1</span><span class="o">;</span> <span class="c1">//ParentId.id1 과 연결</span>
	<span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">PARENT_ID2</span><span class="err">”</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">id2</span><span class="o">;</span> <span class="c1">//ParentId.id2 과 연결</span>
    <span class="err">…</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ParentId</span> <span class="kd">implements</span> <span class="nc">Serializable</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">id1</span><span class="o">;</span> <span class="c1">//Parent.id1 매핑</span>
	<span class="kd">private</span> <span class="nc">Stringid2</span><span class="o">;</span> <span class="c1">//Parent.id2 매핑</span>
	
    <span class="kd">public</span> <span class="nf">ParentId</span><span class="o">()</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">ParentId</span><span class="o">(</span><span class="nc">String</span> <span class="n">id1</span><span class="o">,</span> <span class="nc">String</span> <span class="n">id2</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">id1</span> <span class="o">=</span> <span class="n">id1</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">id2</span> <span class="o">=</span> <span class="n">id2</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">Boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="nc">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span><span class="err">…</span><span class="o">}</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span> <span class="o">()</span> <span class="o">{</span><span class="err">…</span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p>@IdClass 사용 조건</p>
<ul>
  <li>식별자 클래스의 속성명과 엔티티에서 사용하는 식별자의 속성명이 같아야 한다.</li>
  <li>Serializable 인터페이스를 구현해야 한다.</li>
  <li>Equals, hashCode를 구현해야 한다.</li>
  <li>기본 생성자가 있어야 한다.</li>
  <li>식별자 클래스는 public 이어야 한다.</li>
</ul>

<p><br /></p>

<p>2.@EmbeddedId</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Parent</span> <span class="o">{</span>
    <span class="nd">@EmbeddedId</span>
    <span class="kd">private</span> <span class="nc">ParentId</span> <span class="n">id</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="err">…</span>
<span class="o">}</span>

<span class="nd">@Embeddable</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ParentId</span> <span class="kd">implements</span> <span class="nc">Serializable</span> <span class="o">{</span>
		<span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">PARENT_ID1</span><span class="err">”</span><span class="o">)</span>
		<span class="kd">private</span> <span class="nc">String</span> <span class="n">id1</span><span class="o">;</span>
		<span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">PARENT_ID2</span><span class="err">”</span><span class="o">)</span>
		<span class="kd">private</span> <span class="nc">String</span> <span class="n">id2</span><span class="o">;</span>
		<span class="err">…</span> <span class="c1">//@IdClass와 다르게 @EmbeddedId를 적용한 식별자 클래스는 식별자 클래스에 기본 키를 직접 매핑 그 외에는 동일(equals, hashCode 등…)</span>
<span class="o">}</span>
</code></pre></div></div>

<p><br /></p>

<p>3.일대일 식별 관계</p>

<p>자식 테이블의 기본 키 값으로 부모 테이블의 기본 키 값만 사용</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Board</span> <span class="o">{</span>
    <span class="nd">@Id</span> <span class="nd">@GeneratedValue</span>
    <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">BOARD_ID</span><span class="err">”</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">title</span><span class="o">;</span>
    <span class="nd">@OneToOne</span><span class="o">(</span><span class="n">mappedBy</span> <span class="o">=</span> <span class="err">“</span><span class="n">board</span><span class="err">”</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">BoardDetail</span> <span class="n">boardDetail</span><span class="o">;</span>
    <span class="err">…</span>
<span class="o">}</span>

<span class="c1">//자식</span>
<span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardDetail</span> <span class="o">{</span>
    <span class="nd">@Id</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">boardId</span><span class="o">;</span>
    
    <span class="nd">@MapsId</span> <span class="c1">//BoardDetail.boardId 매핑</span>
    <span class="nd">@OneToOne</span>
    <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="err">”</span><span class="no">BOARD_ID</span><span class="err">”</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Board</span> <span class="n">board</span><span class="o">;</span>
    
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">content</span><span class="o">;</span>
    <span class="err">…</span>
<span class="o">}</span>
</code></pre></div></div>

<p><br /></p>

<p><strong>조인 테이블</strong></p>
<ul>
  <li>조인 컬럼 사용 (외래 키)</li>
  <li>조인 테이블 사용 (테이블 사용)</li>
</ul>

<p><br /></p>

<p>1.일대일 조인 테이블</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//부모</span>
<span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Parent</span> <span class="o">{</span>
    <span class="nd">@Id</span> <span class="nd">@GeneratedValue</span>
    <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">PARENT_ID</span><span class="err">”</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>

    <span class="nd">@OneToOne</span>
    <span class="nd">@JoinTable</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">PARENT_CHILD</span><span class="err">”</span><span class="o">,</span> <span class="n">joinColumns</span> <span class="o">=</span> <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">PARENT_ID</span><span class="o">),</span> <span class="n">inverseJoinColumns</span> <span class="o">=</span> <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">CHILD_ID</span><span class="err">”</span><span class="o">))</span>
    <span class="kd">private</span> <span class="nc">Child</span> <span class="n">child</span><span class="o">;</span>
    <span class="err">…</span>
<span class="o">}</span>
<span class="c1">//자식 </span>
<span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">child</span> <span class="o">{</span>
    <span class="nd">@Id</span> <span class="nd">@GeneratedValue</span>
    <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">CHILD_ID</span><span class="err">”</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="err">…</span>
<span class="o">}</span>
</code></pre></div></div>

<p>@JoinTable 속성</p>
<ul>
  <li>Name: 매핑할 조인 테이블 이름</li>
  <li>joinColumns: 현재 엔티티를 참조하는 외래 키</li>
  <li>inverseJoinColumns: 반대방향 엔티티를 참조하는 외래 키</li>
</ul>

<p><br /></p>

<p>양방향 매핑 추가 코드</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@OneToOne</span><span class="o">(</span><span class="n">mappedBy</span> <span class="o">=</span> <span class="err">“</span><span class="n">child</span><span class="err">”</span><span class="o">)</span>
<span class="kd">private</span> <span class="nc">Parent</span> <span class="n">parent</span><span class="o">;</span><span class="n">p</span>
</code></pre></div></div>

<p><br /></p>

<p>2.일대다 조인 테이블</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@OneToMany</span>
<span class="nd">@JoinTable</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">PARENT_CHILD</span><span class="err">”</span><span class="o">,</span> <span class="n">joinColumns</span> <span class="o">=</span> <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">PARENT_ID</span><span class="o">),</span> <span class="n">inverseJoinColumns</span> <span class="o">=</span> <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">CHILD_ID</span><span class="err">”</span><span class="o">))</span>
<span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Child</span><span class="o">&gt;</span> <span class="n">child</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Child</span><span class="o">&gt;();</span>
</code></pre></div></div>

<p><br /></p>

<p>3.다대일</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Child</span> <span class="o">{</span>
    <span class="err">…</span>
    <span class="nd">@ManyToOne</span><span class="o">(</span><span class="n">optional</span> <span class="o">=</span> <span class="kc">false</span><span class="o">)</span>
    <span class="nd">@JoinTable</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">PARENT_CHILD</span><span class="err">”</span><span class="o">,</span> <span class="n">joinColumns</span> <span class="o">=</span> <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">CHILD_ID</span><span class="o">),</span> <span class="n">inverseJoinColumns</span> <span class="o">=</span> <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">PARENT_ID</span><span class="err">”</span><span class="o">))</span>
    <span class="kd">private</span> <span class="nc">Parent</span> <span class="n">parent</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p><br /></p>

<p>4.다대다 조인 테이블</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@OneToMany</span>
<span class="nd">@JoinTable</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">PARENT_CHILD</span><span class="err">”</span><span class="o">,</span> <span class="n">joinColumns</span> <span class="o">=</span> <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">PARENT_ID</span><span class="o">),</span> <span class="n">inverseJoinColumns</span> <span class="o">=</span> <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="err">“</span><span class="no">CHILD_ID</span><span class="err">”</span><span class="o">))</span>
<span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Child</span><span class="o">&gt;</span> <span class="n">child</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Child</span><span class="o">&gt;();</span>
</code></pre></div></div>

<p><br /></p>

<p><strong>엔티티 하나에 여러 테이블 매핑하기</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Entity</span>
<span class="nd">@Table</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="err">”</span><span class="no">BOARD</span><span class="err">”</span><span class="o">)</span>
<span class="nd">@SecondaryTable</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="err">”</span><span class="no">BOARD_DETAIL</span><span class="err">”</span><span class="o">,</span> <span class="n">pkJoinColumns</span> <span class="o">=</span> <span class="nd">@PrimaryKeyJoinColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span><span class="err">”</span><span class="no">BOARD_DETAIL_ID</span><span class="err">”</span><span class="o">))</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Board</span> <span class="o">{</span>
    <span class="err">…</span>
    <span class="nd">@Column</span><span class="o">(</span><span class="n">table</span> <span class="o">=</span> <span class="err">“</span><span class="no">BOARD_DETAIL</span><span class="err">”</span><span class="o">)</span> <span class="c1">//BOARD_DETAIL 테이블에 매핑</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">content</span><span class="o">;</span>
    <span class="err">…</span>
<span class="o">}</span>
</code></pre></div></div>

<p>@SecondaryTable.name : 매핑할 다른 테이블의 이름</p>

<p>@SecondaryTable.pkJoinColumns: 매핑할 다른 테이블의 기본 키 컬럼 속성</p>

<p><br /></p>

<p>출처 : 자바 ORM 표준 JPA 프로그래밍 김영한 지음</p>

<p><br /></p>

  </div>
  <div class="post-info">
    <div class="post-date">
      Written on 2021-01-19, updated at 2021-01-19.
    </div>
    <div class="post-categories">
      <span>Categories: </span>
      
      <a href="/category/book" class="post-category">book</a>
      
      <a href="/category/jpa" class="post-category">JPA</a>
      
    </div>
    <div class="post-tags">
      <span>Tags: </span>
      
      <a href="/tag/book" class="post-tag">book</a>
      
      <a href="/tag/jpa" class="post-tag">JPA</a>
      
    </div>
    <div class="post-tools">
      
      <div>
        <span>Next: </span><a href="/2021/01/20/book-jpa08">자바 ORM표준 JPA 프로그래밍 - 프록시와 연관관계 정리</a>
      </div>
      
      
      <div>
        <span>Previous: </span><a href="/2021/01/18/book-jpa06">자바 ORM표준 JPA 프로그래밍 - 다양한 연관관계 매핑</a>
      </div>
      
    </div>
    
      
  <div id="disqus_thread"></div>
<script>
/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://shapeofcodeblog.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    
  </div>
</article>
    </main>
    <footer class="container-footer">
      <div class="footer-copyright">
  <span class="footer-copyright-text float-left">Copyright &copy; 2021. shapeofcode.github.io.</span>
  <span class="footer-copyright-text float-right">
    Powered by <a href="https://jekyllrb.com/">Jekyll</a>, themed by <a href="https://github.com/ghosind/Jekyll-Paper">Jekyll-Paper</a>.
  </span>
</div>
    </footer>
  </div>
</body>
</html>